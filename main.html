<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <title>Presupuesto</title>
    <link rel="icon" href="img/logo.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="img/logo.jpeg" type="image/x-icon">
</head>


<body>
    <button id="logout-btn" onclick="logout()" data-html2canvas-ignore="true">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
            <path d="M16 13v-2H7V8l-5 4 5 4v-3z"></path>
            <path
                d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z">
            </path>
        </svg>
        Cerrar Sesión
    </button>
    <div id="container">
        <!--contenido-->
        <div id="formulario">
            <header>
                <div class="me">
                    <p> Andres Belgionato</p>
                    <p> CUIT: 20-28162233-2</p>
                    <p> Direccion: Tandil 393, San Andres</p>
                    <p>Email: andres_belgionato@hotmail.com</p>
                    <p>Telefono: 115198248</p>
                </div>
                <img src="img/logo.jpeg" id="imagen" alt="Logo">
            </header>

            <div style="display: flex;">
                <h4>Fecha:</h4>
                <h4 id="fechaActual"></h4>
            </div>

            <h1>PRESUPUESTO</h1>

            <!--tablo datos-->
            <div id="form">
                <table>
                    <tr>
                        <td class="sinborde w100">
                            <h4>Válido hasta:</h4>
                        </td>
                        <td class="sinborde"><input class="myInput" type="text" style="width: 167px;"></td>
                    </tr>
                    <tr>
                        <td class="sinborde w100">Cliente:</td>
                        <td class="sinborde"><input class="myInput" type="text"></td>
                    </tr>
                    <tr>
                        <td class="sinborde">Drección:</td>
                        <td class="sinborde"><input class="myInput" type="text"></td>
                    </tr>
                    <tr>
                        <td class="sinborde">Teléfono:</td>
                        <td class="sinborde"><input class="myInput" type="text"></td>
                    </tr>
                    <tr>
                        <td class="sinborde">Email:</td>
                        <td class="sinborde"><input class="myInput" type="text"></td>
                    </tr>
                </table>
            </div>

            <!--tabla precios-->
            <div>
                <table class="tablaCliente">
                    <thead>
                        <th data-html2canvas-ignore="true" style="width: 40px;">Mic</th>
                        <th>Descripcion</th>
                        <th>Cantidad</th>
                        <th>Precio <br> unitario</th>
                        <th>Precio</th>
                    </thead>
                    <tbody id="miTabla">
                        <tr>
                            <td data-html2canvas-ignore="true" class="mic-cell">
                                <div class="cell-actions">
                                    <button class="mic-btn" onclick="handleVoiceRecord(this)" title="Grabar audio">
                                        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                            <path
                                                d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z" />
                                            <path
                                                d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z" />
                                        </svg>
                                    </button>
                                    <button class="magic-btn" onclick="handleMagicText(this)"
                                        title="Mejorar texto con IA">
                                        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                            <path d="M7.5 5.6L10 0l2.5 5.6L18 8l-5.5 2.4L10 16 7.5 10.4 2 8l5.5-2.4z" />
                                            <path
                                                d="M20 16l-2.5-5.6L15 16l-5.5 2.4L15 20.8 17.5 26.4 20 20.8l5.5-2.4-5.5-2.4z" />
                                        </svg>
                                    </button>
                                    <button class="clip-btn" onclick="handleImageAttach(this)" title="Adjuntar imagen">
                                        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                            <path
                                                d="M16 6v12c0 2.21-1.79 4-4 4s-4-1.79-4-4V6c0-1.1.9-2 2-2s2 .9 2 2v10c0 .55-.45 1-1 1s-1-.45-1-1V6H8v10c0 1.66 1.34 3 3 3s3-1.34 3-3V6c0-2.76-2.24-5-5-5S4 3.24 4 6v12c0 3.87 3.13 7 7 7s7-3.13 7-7V6h-2z" />
                                        </svg>
                                    </button>
                                    <input type="file" accept="image/*" style="display:none"
                                        onchange="processImage(this)">
                                </div>
                            </td>
                            <td width='60%' contenteditable class="description-cell"></td>
                            <td width='10%' class="amount" contenteditable></td>
                            <td width='3%' class="rate" contenteditable></td>
                            <td class="sum"></td>
                        </tr>
                    </tbody>
                    <tbody id="trTotal">
                        <tr>
                            <td colspan="5" class="b-b-0">
                                <p id="total"><strong>TOTAL: </strong><span id="total_price">0</span> </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="form-footer" data-html2canvas-ignore="true">
                <button id="agregarFila">Agregar Fila</button>
                <div class="actions">
                    <button id="boton">Convertir a PDF</button>
                </div>
            </div>

            <div id="image-appendix">
                <h3>Anexo de Imágenes</h3>
                <div class="appendix-grid" id="appendix-container"></div>
            </div>

        </div> <!-- End formulario -->

    </div> <!-- End container -->

    <footer>
        <p>*Documento no valido como factura</p>
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="js/html2canvas.min.js"></script>
<script src="js/config.js"></script>
<script src="js/main.js?v=7"></script>

</html>